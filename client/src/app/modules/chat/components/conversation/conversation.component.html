<div class="flex flex-col h-full overflow-hidden">
    <div class="flex flex-row items-center justify-between py-[10px] px-5 bg-cgrey-50 text-cgrey-600">
        <div class="flex flex-row gap-3 items-center">
            <div class="w-[54px] h-[54px] border-[2px] border-cgreen-500 rounded-[50%] overflow-hidden">
                <img src="./assets/images/public/avatars/2.png" alt="avatar" class="w-[50px] h-[50px] object-cover">
            </div>
            <span class="text-lg tracking-tighter font-medium">Daniel Kalio</span>
        </div>
        <div class="flex flex-row gap-10 items-center">
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined fill select-none" title="audio call">
                    call
                </span>
            </div>
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined fill select-none" title="video call">
                    videocam
                </span>
            </div>
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined fill select-none" title="search message">
                    search
                </span>
            </div>
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined fill select-none" title="information">
                    info
                </span>
            </div>
        </div>
    </div>
    <div class="flex-grow flex flex-col overflow-hidden">
        <div class="px-5 py-3 flex-grow flex flex-col-reverse gap-2 overflow-y-scroll overflow-x-hidden sidebar bg-cyellow-200"
            style="background-image: url('./assets/images/chat/conversation-bg.png');">
            @for (message of messages; track $index) {
            <app-message [isMine]="userId === message.senderId" [content]="message.content"
                [date]="message.createdAt"></app-message>
            }
        </div>
        <div class="flex flex-row w-full items-center gap-6 py-[10px] px-5 bg-cgrey-50 text-cgrey-600">
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined select-none" title="emoji">
                    sentiment_satisfied
                </span>
            </div>
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined rotate-[45deg] select-none" title="file">
                    attach_file
                </span>
            </div>
            <div class="flex-grow flex flex-row items-center gap-6 px-6 py-2 bg-white rounded-[10px]">
                <div
                    class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                    <span class="material-symbols-outlined fill select-none" title="photo">
                        photo_camera
                    </span>
                </div>
                <input [formControl]="messageForm" (keyup.enter)="onEnterKeyup()"
                    class="flex-grow text-lg font-medium tracking-tighter bg-transparent outline-none"
                    spellcheck="false" placeholder="Type a message">
                <div class="flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-200 px-1 py-1"
                    (click)="sendMessageHandler()">
                    <span *ngIf="this.messageForm.value"
                        class="material-symbols-rounded text-[28px] text-primary select-none cursor-pointer">
                        send
                    </span>
                </div>
            </div>
            <div class="px-[4px] py-[4px] flex flex-row items-center justify-between rounded-[50%] hover:bg-cgrey-300">
                <span class="material-symbols-outlined fill select-none" title="voice">
                    mic
                </span>
            </div>
        </div>
    </div>
</div>
